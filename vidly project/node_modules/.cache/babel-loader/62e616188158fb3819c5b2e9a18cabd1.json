{"ast":null,"code":"var stringify = require('../vendor/json-stringify-safe/stringify');\n\nvar _window = typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\nfunction isObject(what) {\n  return typeof what === 'object' && what !== null;\n} // Yanked from https://git.io/vS8DV re-used under CC0\n// with some tiny modifications\n\n\nfunction isError(value) {\n  switch (Object.prototype.toString.call(value)) {\n    case '[object Error]':\n      return true;\n\n    case '[object Exception]':\n      return true;\n\n    case '[object DOMException]':\n      return true;\n\n    default:\n      return value instanceof Error;\n  }\n}\n\nfunction isErrorEvent(value) {\n  return Object.prototype.toString.call(value) === '[object ErrorEvent]';\n}\n\nfunction isDOMError(value) {\n  return Object.prototype.toString.call(value) === '[object DOMError]';\n}\n\nfunction isDOMException(value) {\n  return Object.prototype.toString.call(value) === '[object DOMException]';\n}\n\nfunction isUndefined(what) {\n  return what === void 0;\n}\n\nfunction isFunction(what) {\n  return typeof what === 'function';\n}\n\nfunction isPlainObject(what) {\n  return Object.prototype.toString.call(what) === '[object Object]';\n}\n\nfunction isString(what) {\n  return Object.prototype.toString.call(what) === '[object String]';\n}\n\nfunction isArray(what) {\n  return Object.prototype.toString.call(what) === '[object Array]';\n}\n\nfunction isEmptyObject(what) {\n  if (!isPlainObject(what)) return false;\n\n  for (var _ in what) {\n    if (what.hasOwnProperty(_)) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction supportsErrorEvent() {\n  try {\n    new ErrorEvent(''); // eslint-disable-line no-new\n\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction supportsDOMError() {\n  try {\n    new DOMError(''); // eslint-disable-line no-new\n\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction supportsDOMException() {\n  try {\n    new DOMException(''); // eslint-disable-line no-new\n\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction supportsFetch() {\n  if (!('fetch' in _window)) return false;\n\n  try {\n    new Headers(); // eslint-disable-line no-new\n\n    new Request(''); // eslint-disable-line no-new\n\n    new Response(); // eslint-disable-line no-new\n\n    return true;\n  } catch (e) {\n    return false;\n  }\n} // Despite all stars in the sky saying that Edge supports old draft syntax, aka 'never', 'always', 'origin' and 'default\n// https://caniuse.com/#feat=referrer-policy\n// It doesn't. And it throw exception instead of ignoring this parameter...\n// REF: https://github.com/getsentry/raven-js/issues/1233\n\n\nfunction supportsReferrerPolicy() {\n  if (!supportsFetch()) return false;\n\n  try {\n    // eslint-disable-next-line no-new\n    new Request('pickleRick', {\n      referrerPolicy: 'origin'\n    });\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction supportsPromiseRejectionEvent() {\n  return typeof PromiseRejectionEvent === 'function';\n}\n\nfunction wrappedCallback(callback) {\n  function dataCallback(data, original) {\n    var normalizedData = callback(data) || data;\n\n    if (original) {\n      return original(normalizedData) || normalizedData;\n    }\n\n    return normalizedData;\n  }\n\n  return dataCallback;\n}\n\nfunction each(obj, callback) {\n  var i, j;\n\n  if (isUndefined(obj.length)) {\n    for (i in obj) {\n      if (hasKey(obj, i)) {\n        callback.call(null, i, obj[i]);\n      }\n    }\n  } else {\n    j = obj.length;\n\n    if (j) {\n      for (i = 0; i < j; i++) {\n        callback.call(null, i, obj[i]);\n      }\n    }\n  }\n}\n\nfunction objectMerge(obj1, obj2) {\n  if (!obj2) {\n    return obj1;\n  }\n\n  each(obj2, function (key, value) {\n    obj1[key] = value;\n  });\n  return obj1;\n}\n/**\n * This function is only used for react-native.\n * react-native freezes object that have already been sent over the\n * js bridge. We need this function in order to check if the object is frozen.\n * So it's ok that objectFrozen returns false if Object.isFrozen is not\n * supported because it's not relevant for other \"platforms\". See related issue:\n * https://github.com/getsentry/react-native-sentry/issues/57\n */\n\n\nfunction objectFrozen(obj) {\n  if (!Object.isFrozen) {\n    return false;\n  }\n\n  return Object.isFrozen(obj);\n}\n\nfunction truncate(str, max) {\n  if (typeof max !== 'number') {\n    throw new Error('2nd argument to `truncate` function should be a number');\n  }\n\n  if (typeof str !== 'string' || max === 0) {\n    return str;\n  }\n\n  return str.length <= max ? str : str.substr(0, max) + '\\u2026';\n}\n/**\n * hasKey, a better form of hasOwnProperty\n * Example: hasKey(MainHostObject, property) === true/false\n *\n * @param {Object} host object to check property\n * @param {string} key to check\n */\n\n\nfunction hasKey(object, key) {\n  return Object.prototype.hasOwnProperty.call(object, key);\n}\n\nfunction joinRegExp(patterns) {\n  // Combine an array of regular expressions and strings into one large regexp\n  // Be mad.\n  var sources = [],\n      i = 0,\n      len = patterns.length,\n      pattern;\n\n  for (; i < len; i++) {\n    pattern = patterns[i];\n\n    if (isString(pattern)) {\n      // If it's a string, we need to escape it\n      // Taken from: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions\n      sources.push(pattern.replace(/([.*+?^=!:${}()|\\[\\]\\/\\\\])/g, '\\\\$1'));\n    } else if (pattern && pattern.source) {\n      // If it's a regexp already, we want to extract the source\n      sources.push(pattern.source);\n    } // Intentionally skip other cases\n\n  }\n\n  return new RegExp(sources.join('|'), 'i');\n}\n\nfunction urlencode(o) {\n  var pairs = [];\n  each(o, function (key, value) {\n    pairs.push(encodeURIComponent(key) + '=' + encodeURIComponent(value));\n  });\n  return pairs.join('&');\n} // borrowed from https://tools.ietf.org/html/rfc3986#appendix-B\n// intentionally using regex and not <a/> href parsing trick because React Native and other\n// environments where DOM might not be available\n\n\nfunction parseUrl(url) {\n  if (typeof url !== 'string') return {};\n  var match = url.match(/^(([^:\\/?#]+):)?(\\/\\/([^\\/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$/); // coerce to undefined values to empty string so we don't get 'undefined'\n\n  var query = match[6] || '';\n  var fragment = match[8] || '';\n  return {\n    protocol: match[2],\n    host: match[4],\n    path: match[5],\n    relative: match[5] + query + fragment // everything minus origin\n\n  };\n}\n\nfunction uuid4() {\n  var crypto = _window.crypto || _window.msCrypto;\n\n  if (!isUndefined(crypto) && crypto.getRandomValues) {\n    // Use window.crypto API if available\n    // eslint-disable-next-line no-undef\n    var arr = new Uint16Array(8);\n    crypto.getRandomValues(arr); // set 4 in byte 7\n\n    arr[3] = arr[3] & 0xfff | 0x4000; // set 2 most significant bits of byte 9 to '10'\n\n    arr[4] = arr[4] & 0x3fff | 0x8000;\n\n    var pad = function (num) {\n      var v = num.toString(16);\n\n      while (v.length < 4) {\n        v = '0' + v;\n      }\n\n      return v;\n    };\n\n    return pad(arr[0]) + pad(arr[1]) + pad(arr[2]) + pad(arr[3]) + pad(arr[4]) + pad(arr[5]) + pad(arr[6]) + pad(arr[7]);\n  } else {\n    // http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript/2117523#2117523\n    return 'xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n      var r = Math.random() * 16 | 0,\n          v = c === 'x' ? r : r & 0x3 | 0x8;\n      return v.toString(16);\n    });\n  }\n}\n/**\n * Given a child DOM element, returns a query-selector statement describing that\n * and its ancestors\n * e.g. [HTMLElement] => body > div > input#foo.btn[name=baz]\n * @param elem\n * @returns {string}\n */\n\n\nfunction htmlTreeAsString(elem) {\n  /* eslint no-extra-parens:0*/\n  var MAX_TRAVERSE_HEIGHT = 5,\n      MAX_OUTPUT_LEN = 80,\n      out = [],\n      height = 0,\n      len = 0,\n      separator = ' > ',\n      sepLength = separator.length,\n      nextStr;\n\n  while (elem && height++ < MAX_TRAVERSE_HEIGHT) {\n    nextStr = htmlElementAsString(elem); // bail out if\n    // - nextStr is the 'html' element\n    // - the length of the string that would be created exceeds MAX_OUTPUT_LEN\n    //   (ignore this limit if we are on the first iteration)\n\n    if (nextStr === 'html' || height > 1 && len + out.length * sepLength + nextStr.length >= MAX_OUTPUT_LEN) {\n      break;\n    }\n\n    out.push(nextStr);\n    len += nextStr.length;\n    elem = elem.parentNode;\n  }\n\n  return out.reverse().join(separator);\n}\n/**\n * Returns a simple, query-selector representation of a DOM element\n * e.g. [HTMLElement] => input#foo.btn[name=baz]\n * @param HTMLElement\n * @returns {string}\n */\n\n\nfunction htmlElementAsString(elem) {\n  var out = [],\n      className,\n      classes,\n      key,\n      attr,\n      i;\n\n  if (!elem || !elem.tagName) {\n    return '';\n  }\n\n  out.push(elem.tagName.toLowerCase());\n\n  if (elem.id) {\n    out.push('#' + elem.id);\n  }\n\n  className = elem.className;\n\n  if (className && isString(className)) {\n    classes = className.split(/\\s+/);\n\n    for (i = 0; i < classes.length; i++) {\n      out.push('.' + classes[i]);\n    }\n  }\n\n  var attrWhitelist = ['type', 'name', 'title', 'alt'];\n\n  for (i = 0; i < attrWhitelist.length; i++) {\n    key = attrWhitelist[i];\n    attr = elem.getAttribute(key);\n\n    if (attr) {\n      out.push('[' + key + '=\"' + attr + '\"]');\n    }\n  }\n\n  return out.join('');\n}\n/**\n * Returns true if either a OR b is truthy, but not both\n */\n\n\nfunction isOnlyOneTruthy(a, b) {\n  return !!(!!a ^ !!b);\n}\n/**\n * Returns true if both parameters are undefined\n */\n\n\nfunction isBothUndefined(a, b) {\n  return isUndefined(a) && isUndefined(b);\n}\n/**\n * Returns true if the two input exception interfaces have the same content\n */\n\n\nfunction isSameException(ex1, ex2) {\n  if (isOnlyOneTruthy(ex1, ex2)) return false;\n  ex1 = ex1.values[0];\n  ex2 = ex2.values[0];\n  if (ex1.type !== ex2.type || ex1.value !== ex2.value) return false; // in case both stacktraces are undefined, we can't decide so default to false\n\n  if (isBothUndefined(ex1.stacktrace, ex2.stacktrace)) return false;\n  return isSameStacktrace(ex1.stacktrace, ex2.stacktrace);\n}\n/**\n * Returns true if the two input stack trace interfaces have the same content\n */\n\n\nfunction isSameStacktrace(stack1, stack2) {\n  if (isOnlyOneTruthy(stack1, stack2)) return false;\n  var frames1 = stack1.frames;\n  var frames2 = stack2.frames; // Exit early if stacktrace is malformed\n\n  if (frames1 === undefined || frames2 === undefined) return false; // Exit early if frame count differs\n\n  if (frames1.length !== frames2.length) return false; // Iterate through every frame; bail out if anything differs\n\n  var a, b;\n\n  for (var i = 0; i < frames1.length; i++) {\n    a = frames1[i];\n    b = frames2[i];\n    if (a.filename !== b.filename || a.lineno !== b.lineno || a.colno !== b.colno || a['function'] !== b['function']) return false;\n  }\n\n  return true;\n}\n/**\n * Polyfill a method\n * @param obj object e.g. `document`\n * @param name method name present on object e.g. `addEventListener`\n * @param replacement replacement function\n * @param track {optional} record instrumentation to an array\n */\n\n\nfunction fill(obj, name, replacement, track) {\n  if (obj == null) return;\n  var orig = obj[name];\n  obj[name] = replacement(orig);\n  obj[name].__raven__ = true;\n  obj[name].__orig__ = orig;\n\n  if (track) {\n    track.push([obj, name, orig]);\n  }\n}\n/**\n * Join values in array\n * @param input array of values to be joined together\n * @param delimiter string to be placed in-between values\n * @returns {string}\n */\n\n\nfunction safeJoin(input, delimiter) {\n  if (!isArray(input)) return '';\n  var output = [];\n\n  for (var i = 0; i < input.length; i++) {\n    try {\n      output.push(String(input[i]));\n    } catch (e) {\n      output.push('[value cannot be serialized]');\n    }\n  }\n\n  return output.join(delimiter);\n} // Default Node.js REPL depth\n\n\nvar MAX_SERIALIZE_EXCEPTION_DEPTH = 3; // 50kB, as 100kB is max payload size, so half sounds reasonable\n\nvar MAX_SERIALIZE_EXCEPTION_SIZE = 50 * 1024;\nvar MAX_SERIALIZE_KEYS_LENGTH = 40;\n\nfunction utf8Length(value) {\n  return ~-encodeURI(value).split(/%..|./).length;\n}\n\nfunction jsonSize(value) {\n  return utf8Length(JSON.stringify(value));\n}\n\nfunction serializeValue(value) {\n  if (typeof value === 'string') {\n    var maxLength = 40;\n    return truncate(value, maxLength);\n  } else if (typeof value === 'number' || typeof value === 'boolean' || typeof value === 'undefined') {\n    return value;\n  }\n\n  var type = Object.prototype.toString.call(value); // Node.js REPL notation\n\n  if (type === '[object Object]') return '[Object]';\n  if (type === '[object Array]') return '[Array]';\n  if (type === '[object Function]') return value.name ? '[Function: ' + value.name + ']' : '[Function]';\n  return value;\n}\n\nfunction serializeObject(value, depth) {\n  if (depth === 0) return serializeValue(value);\n\n  if (isPlainObject(value)) {\n    return Object.keys(value).reduce(function (acc, key) {\n      acc[key] = serializeObject(value[key], depth - 1);\n      return acc;\n    }, {});\n  } else if (Array.isArray(value)) {\n    return value.map(function (val) {\n      return serializeObject(val, depth - 1);\n    });\n  }\n\n  return serializeValue(value);\n}\n\nfunction serializeException(ex, depth, maxSize) {\n  if (!isPlainObject(ex)) return ex;\n  depth = typeof depth !== 'number' ? MAX_SERIALIZE_EXCEPTION_DEPTH : depth;\n  maxSize = typeof depth !== 'number' ? MAX_SERIALIZE_EXCEPTION_SIZE : maxSize;\n  var serialized = serializeObject(ex, depth);\n\n  if (jsonSize(stringify(serialized)) > maxSize) {\n    return serializeException(ex, depth - 1);\n  }\n\n  return serialized;\n}\n\nfunction serializeKeysForMessage(keys, maxLength) {\n  if (typeof keys === 'number' || typeof keys === 'string') return keys.toString();\n  if (!Array.isArray(keys)) return '';\n  keys = keys.filter(function (key) {\n    return typeof key === 'string';\n  });\n  if (keys.length === 0) return '[object has no keys]';\n  maxLength = typeof maxLength !== 'number' ? MAX_SERIALIZE_KEYS_LENGTH : maxLength;\n  if (keys[0].length >= maxLength) return keys[0];\n\n  for (var usedKeys = keys.length; usedKeys > 0; usedKeys--) {\n    var serialized = keys.slice(0, usedKeys).join(', ');\n    if (serialized.length > maxLength) continue;\n    if (usedKeys === keys.length) return serialized;\n    return serialized + '\\u2026';\n  }\n\n  return '';\n}\n\nfunction sanitize(input, sanitizeKeys) {\n  if (!isArray(sanitizeKeys) || isArray(sanitizeKeys) && sanitizeKeys.length === 0) return input;\n  var sanitizeRegExp = joinRegExp(sanitizeKeys);\n  var sanitizeMask = '********';\n  var safeInput;\n\n  try {\n    safeInput = JSON.parse(stringify(input));\n  } catch (o_O) {\n    return input;\n  }\n\n  function sanitizeWorker(workerInput) {\n    if (isArray(workerInput)) {\n      return workerInput.map(function (val) {\n        return sanitizeWorker(val);\n      });\n    }\n\n    if (isPlainObject(workerInput)) {\n      return Object.keys(workerInput).reduce(function (acc, k) {\n        if (sanitizeRegExp.test(k)) {\n          acc[k] = sanitizeMask;\n        } else {\n          acc[k] = sanitizeWorker(workerInput[k]);\n        }\n\n        return acc;\n      }, {});\n    }\n\n    return workerInput;\n  }\n\n  return sanitizeWorker(safeInput);\n}\n\nmodule.exports = {\n  isObject: isObject,\n  isError: isError,\n  isErrorEvent: isErrorEvent,\n  isDOMError: isDOMError,\n  isDOMException: isDOMException,\n  isUndefined: isUndefined,\n  isFunction: isFunction,\n  isPlainObject: isPlainObject,\n  isString: isString,\n  isArray: isArray,\n  isEmptyObject: isEmptyObject,\n  supportsErrorEvent: supportsErrorEvent,\n  supportsDOMError: supportsDOMError,\n  supportsDOMException: supportsDOMException,\n  supportsFetch: supportsFetch,\n  supportsReferrerPolicy: supportsReferrerPolicy,\n  supportsPromiseRejectionEvent: supportsPromiseRejectionEvent,\n  wrappedCallback: wrappedCallback,\n  each: each,\n  objectMerge: objectMerge,\n  truncate: truncate,\n  objectFrozen: objectFrozen,\n  hasKey: hasKey,\n  joinRegExp: joinRegExp,\n  urlencode: urlencode,\n  uuid4: uuid4,\n  htmlTreeAsString: htmlTreeAsString,\n  htmlElementAsString: htmlElementAsString,\n  isSameException: isSameException,\n  isSameStacktrace: isSameStacktrace,\n  parseUrl: parseUrl,\n  fill: fill,\n  safeJoin: safeJoin,\n  serializeException: serializeException,\n  serializeKeysForMessage: serializeKeysForMessage,\n  sanitize: sanitize\n};","map":{"version":3,"sources":["/Users/melikekilic/vidly/node_modules/raven-js/src/utils.js"],"names":["stringify","require","_window","window","global","self","isObject","what","isError","value","Object","prototype","toString","call","Error","isErrorEvent","isDOMError","isDOMException","isUndefined","isFunction","isPlainObject","isString","isArray","isEmptyObject","_","hasOwnProperty","supportsErrorEvent","ErrorEvent","e","supportsDOMError","DOMError","supportsDOMException","DOMException","supportsFetch","Headers","Request","Response","supportsReferrerPolicy","referrerPolicy","supportsPromiseRejectionEvent","PromiseRejectionEvent","wrappedCallback","callback","dataCallback","data","original","normalizedData","each","obj","i","j","length","hasKey","objectMerge","obj1","obj2","key","objectFrozen","isFrozen","truncate","str","max","substr","object","joinRegExp","patterns","sources","len","pattern","push","replace","source","RegExp","join","urlencode","o","pairs","encodeURIComponent","parseUrl","url","match","query","fragment","protocol","host","path","relative","uuid4","crypto","msCrypto","getRandomValues","arr","Uint16Array","pad","num","v","c","r","Math","random","htmlTreeAsString","elem","MAX_TRAVERSE_HEIGHT","MAX_OUTPUT_LEN","out","height","separator","sepLength","nextStr","htmlElementAsString","parentNode","reverse","className","classes","attr","tagName","toLowerCase","id","split","attrWhitelist","getAttribute","isOnlyOneTruthy","a","b","isBothUndefined","isSameException","ex1","ex2","values","type","stacktrace","isSameStacktrace","stack1","stack2","frames1","frames","frames2","undefined","filename","lineno","colno","fill","name","replacement","track","orig","__raven__","__orig__","safeJoin","input","delimiter","output","String","MAX_SERIALIZE_EXCEPTION_DEPTH","MAX_SERIALIZE_EXCEPTION_SIZE","MAX_SERIALIZE_KEYS_LENGTH","utf8Length","encodeURI","jsonSize","JSON","serializeValue","maxLength","serializeObject","depth","keys","reduce","acc","Array","map","val","serializeException","ex","maxSize","serialized","serializeKeysForMessage","filter","usedKeys","slice","sanitize","sanitizeKeys","sanitizeRegExp","sanitizeMask","safeInput","parse","o_O","sanitizeWorker","workerInput","k","test","module","exports"],"mappings":"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","sourcesContent":["var stringify = require('../vendor/json-stringify-safe/stringify');\n\nvar _window =\n  typeof window !== 'undefined'\n    ? window\n    : typeof global !== 'undefined'\n      ? global\n      : typeof self !== 'undefined'\n        ? self\n        : {};\n\nfunction isObject(what) {\n  return typeof what === 'object' && what !== null;\n}\n\n// Yanked from https://git.io/vS8DV re-used under CC0\n// with some tiny modifications\nfunction isError(value) {\n  switch (Object.prototype.toString.call(value)) {\n    case '[object Error]':\n      return true;\n    case '[object Exception]':\n      return true;\n    case '[object DOMException]':\n      return true;\n    default:\n      return value instanceof Error;\n  }\n}\n\nfunction isErrorEvent(value) {\n  return Object.prototype.toString.call(value) === '[object ErrorEvent]';\n}\n\nfunction isDOMError(value) {\n  return Object.prototype.toString.call(value) === '[object DOMError]';\n}\n\nfunction isDOMException(value) {\n  return Object.prototype.toString.call(value) === '[object DOMException]';\n}\n\nfunction isUndefined(what) {\n  return what === void 0;\n}\n\nfunction isFunction(what) {\n  return typeof what === 'function';\n}\n\nfunction isPlainObject(what) {\n  return Object.prototype.toString.call(what) === '[object Object]';\n}\n\nfunction isString(what) {\n  return Object.prototype.toString.call(what) === '[object String]';\n}\n\nfunction isArray(what) {\n  return Object.prototype.toString.call(what) === '[object Array]';\n}\n\nfunction isEmptyObject(what) {\n  if (!isPlainObject(what)) return false;\n\n  for (var _ in what) {\n    if (what.hasOwnProperty(_)) {\n      return false;\n    }\n  }\n  return true;\n}\n\nfunction supportsErrorEvent() {\n  try {\n    new ErrorEvent(''); // eslint-disable-line no-new\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction supportsDOMError() {\n  try {\n    new DOMError(''); // eslint-disable-line no-new\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction supportsDOMException() {\n  try {\n    new DOMException(''); // eslint-disable-line no-new\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction supportsFetch() {\n  if (!('fetch' in _window)) return false;\n\n  try {\n    new Headers(); // eslint-disable-line no-new\n    new Request(''); // eslint-disable-line no-new\n    new Response(); // eslint-disable-line no-new\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\n// Despite all stars in the sky saying that Edge supports old draft syntax, aka 'never', 'always', 'origin' and 'default\n// https://caniuse.com/#feat=referrer-policy\n// It doesn't. And it throw exception instead of ignoring this parameter...\n// REF: https://github.com/getsentry/raven-js/issues/1233\nfunction supportsReferrerPolicy() {\n  if (!supportsFetch()) return false;\n\n  try {\n    // eslint-disable-next-line no-new\n    new Request('pickleRick', {\n      referrerPolicy: 'origin'\n    });\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction supportsPromiseRejectionEvent() {\n  return typeof PromiseRejectionEvent === 'function';\n}\n\nfunction wrappedCallback(callback) {\n  function dataCallback(data, original) {\n    var normalizedData = callback(data) || data;\n    if (original) {\n      return original(normalizedData) || normalizedData;\n    }\n    return normalizedData;\n  }\n\n  return dataCallback;\n}\n\nfunction each(obj, callback) {\n  var i, j;\n\n  if (isUndefined(obj.length)) {\n    for (i in obj) {\n      if (hasKey(obj, i)) {\n        callback.call(null, i, obj[i]);\n      }\n    }\n  } else {\n    j = obj.length;\n    if (j) {\n      for (i = 0; i < j; i++) {\n        callback.call(null, i, obj[i]);\n      }\n    }\n  }\n}\n\nfunction objectMerge(obj1, obj2) {\n  if (!obj2) {\n    return obj1;\n  }\n  each(obj2, function(key, value) {\n    obj1[key] = value;\n  });\n  return obj1;\n}\n\n/**\n * This function is only used for react-native.\n * react-native freezes object that have already been sent over the\n * js bridge. We need this function in order to check if the object is frozen.\n * So it's ok that objectFrozen returns false if Object.isFrozen is not\n * supported because it's not relevant for other \"platforms\". See related issue:\n * https://github.com/getsentry/react-native-sentry/issues/57\n */\nfunction objectFrozen(obj) {\n  if (!Object.isFrozen) {\n    return false;\n  }\n  return Object.isFrozen(obj);\n}\n\nfunction truncate(str, max) {\n  if (typeof max !== 'number') {\n    throw new Error('2nd argument to `truncate` function should be a number');\n  }\n  if (typeof str !== 'string' || max === 0) {\n    return str;\n  }\n  return str.length <= max ? str : str.substr(0, max) + '\\u2026';\n}\n\n/**\n * hasKey, a better form of hasOwnProperty\n * Example: hasKey(MainHostObject, property) === true/false\n *\n * @param {Object} host object to check property\n * @param {string} key to check\n */\nfunction hasKey(object, key) {\n  return Object.prototype.hasOwnProperty.call(object, key);\n}\n\nfunction joinRegExp(patterns) {\n  // Combine an array of regular expressions and strings into one large regexp\n  // Be mad.\n  var sources = [],\n    i = 0,\n    len = patterns.length,\n    pattern;\n\n  for (; i < len; i++) {\n    pattern = patterns[i];\n    if (isString(pattern)) {\n      // If it's a string, we need to escape it\n      // Taken from: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions\n      sources.push(pattern.replace(/([.*+?^=!:${}()|\\[\\]\\/\\\\])/g, '\\\\$1'));\n    } else if (pattern && pattern.source) {\n      // If it's a regexp already, we want to extract the source\n      sources.push(pattern.source);\n    }\n    // Intentionally skip other cases\n  }\n  return new RegExp(sources.join('|'), 'i');\n}\n\nfunction urlencode(o) {\n  var pairs = [];\n  each(o, function(key, value) {\n    pairs.push(encodeURIComponent(key) + '=' + encodeURIComponent(value));\n  });\n  return pairs.join('&');\n}\n\n// borrowed from https://tools.ietf.org/html/rfc3986#appendix-B\n// intentionally using regex and not <a/> href parsing trick because React Native and other\n// environments where DOM might not be available\nfunction parseUrl(url) {\n  if (typeof url !== 'string') return {};\n  var match = url.match(/^(([^:\\/?#]+):)?(\\/\\/([^\\/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$/);\n\n  // coerce to undefined values to empty string so we don't get 'undefined'\n  var query = match[6] || '';\n  var fragment = match[8] || '';\n  return {\n    protocol: match[2],\n    host: match[4],\n    path: match[5],\n    relative: match[5] + query + fragment // everything minus origin\n  };\n}\nfunction uuid4() {\n  var crypto = _window.crypto || _window.msCrypto;\n\n  if (!isUndefined(crypto) && crypto.getRandomValues) {\n    // Use window.crypto API if available\n    // eslint-disable-next-line no-undef\n    var arr = new Uint16Array(8);\n    crypto.getRandomValues(arr);\n\n    // set 4 in byte 7\n    arr[3] = (arr[3] & 0xfff) | 0x4000;\n    // set 2 most significant bits of byte 9 to '10'\n    arr[4] = (arr[4] & 0x3fff) | 0x8000;\n\n    var pad = function(num) {\n      var v = num.toString(16);\n      while (v.length < 4) {\n        v = '0' + v;\n      }\n      return v;\n    };\n\n    return (\n      pad(arr[0]) +\n      pad(arr[1]) +\n      pad(arr[2]) +\n      pad(arr[3]) +\n      pad(arr[4]) +\n      pad(arr[5]) +\n      pad(arr[6]) +\n      pad(arr[7])\n    );\n  } else {\n    // http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript/2117523#2117523\n    return 'xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n      var r = (Math.random() * 16) | 0,\n        v = c === 'x' ? r : (r & 0x3) | 0x8;\n      return v.toString(16);\n    });\n  }\n}\n\n/**\n * Given a child DOM element, returns a query-selector statement describing that\n * and its ancestors\n * e.g. [HTMLElement] => body > div > input#foo.btn[name=baz]\n * @param elem\n * @returns {string}\n */\nfunction htmlTreeAsString(elem) {\n  /* eslint no-extra-parens:0*/\n  var MAX_TRAVERSE_HEIGHT = 5,\n    MAX_OUTPUT_LEN = 80,\n    out = [],\n    height = 0,\n    len = 0,\n    separator = ' > ',\n    sepLength = separator.length,\n    nextStr;\n\n  while (elem && height++ < MAX_TRAVERSE_HEIGHT) {\n    nextStr = htmlElementAsString(elem);\n    // bail out if\n    // - nextStr is the 'html' element\n    // - the length of the string that would be created exceeds MAX_OUTPUT_LEN\n    //   (ignore this limit if we are on the first iteration)\n    if (\n      nextStr === 'html' ||\n      (height > 1 && len + out.length * sepLength + nextStr.length >= MAX_OUTPUT_LEN)\n    ) {\n      break;\n    }\n\n    out.push(nextStr);\n\n    len += nextStr.length;\n    elem = elem.parentNode;\n  }\n\n  return out.reverse().join(separator);\n}\n\n/**\n * Returns a simple, query-selector representation of a DOM element\n * e.g. [HTMLElement] => input#foo.btn[name=baz]\n * @param HTMLElement\n * @returns {string}\n */\nfunction htmlElementAsString(elem) {\n  var out = [],\n    className,\n    classes,\n    key,\n    attr,\n    i;\n\n  if (!elem || !elem.tagName) {\n    return '';\n  }\n\n  out.push(elem.tagName.toLowerCase());\n  if (elem.id) {\n    out.push('#' + elem.id);\n  }\n\n  className = elem.className;\n  if (className && isString(className)) {\n    classes = className.split(/\\s+/);\n    for (i = 0; i < classes.length; i++) {\n      out.push('.' + classes[i]);\n    }\n  }\n  var attrWhitelist = ['type', 'name', 'title', 'alt'];\n  for (i = 0; i < attrWhitelist.length; i++) {\n    key = attrWhitelist[i];\n    attr = elem.getAttribute(key);\n    if (attr) {\n      out.push('[' + key + '=\"' + attr + '\"]');\n    }\n  }\n  return out.join('');\n}\n\n/**\n * Returns true if either a OR b is truthy, but not both\n */\nfunction isOnlyOneTruthy(a, b) {\n  return !!(!!a ^ !!b);\n}\n\n/**\n * Returns true if both parameters are undefined\n */\nfunction isBothUndefined(a, b) {\n  return isUndefined(a) && isUndefined(b);\n}\n\n/**\n * Returns true if the two input exception interfaces have the same content\n */\nfunction isSameException(ex1, ex2) {\n  if (isOnlyOneTruthy(ex1, ex2)) return false;\n\n  ex1 = ex1.values[0];\n  ex2 = ex2.values[0];\n\n  if (ex1.type !== ex2.type || ex1.value !== ex2.value) return false;\n\n  // in case both stacktraces are undefined, we can't decide so default to false\n  if (isBothUndefined(ex1.stacktrace, ex2.stacktrace)) return false;\n\n  return isSameStacktrace(ex1.stacktrace, ex2.stacktrace);\n}\n\n/**\n * Returns true if the two input stack trace interfaces have the same content\n */\nfunction isSameStacktrace(stack1, stack2) {\n  if (isOnlyOneTruthy(stack1, stack2)) return false;\n\n  var frames1 = stack1.frames;\n  var frames2 = stack2.frames;\n\n  // Exit early if stacktrace is malformed\n  if (frames1 === undefined || frames2 === undefined) return false;\n\n  // Exit early if frame count differs\n  if (frames1.length !== frames2.length) return false;\n\n  // Iterate through every frame; bail out if anything differs\n  var a, b;\n  for (var i = 0; i < frames1.length; i++) {\n    a = frames1[i];\n    b = frames2[i];\n    if (\n      a.filename !== b.filename ||\n      a.lineno !== b.lineno ||\n      a.colno !== b.colno ||\n      a['function'] !== b['function']\n    )\n      return false;\n  }\n  return true;\n}\n\n/**\n * Polyfill a method\n * @param obj object e.g. `document`\n * @param name method name present on object e.g. `addEventListener`\n * @param replacement replacement function\n * @param track {optional} record instrumentation to an array\n */\nfunction fill(obj, name, replacement, track) {\n  if (obj == null) return;\n  var orig = obj[name];\n  obj[name] = replacement(orig);\n  obj[name].__raven__ = true;\n  obj[name].__orig__ = orig;\n  if (track) {\n    track.push([obj, name, orig]);\n  }\n}\n\n/**\n * Join values in array\n * @param input array of values to be joined together\n * @param delimiter string to be placed in-between values\n * @returns {string}\n */\nfunction safeJoin(input, delimiter) {\n  if (!isArray(input)) return '';\n\n  var output = [];\n\n  for (var i = 0; i < input.length; i++) {\n    try {\n      output.push(String(input[i]));\n    } catch (e) {\n      output.push('[value cannot be serialized]');\n    }\n  }\n\n  return output.join(delimiter);\n}\n\n// Default Node.js REPL depth\nvar MAX_SERIALIZE_EXCEPTION_DEPTH = 3;\n// 50kB, as 100kB is max payload size, so half sounds reasonable\nvar MAX_SERIALIZE_EXCEPTION_SIZE = 50 * 1024;\nvar MAX_SERIALIZE_KEYS_LENGTH = 40;\n\nfunction utf8Length(value) {\n  return ~-encodeURI(value).split(/%..|./).length;\n}\n\nfunction jsonSize(value) {\n  return utf8Length(JSON.stringify(value));\n}\n\nfunction serializeValue(value) {\n  if (typeof value === 'string') {\n    var maxLength = 40;\n    return truncate(value, maxLength);\n  } else if (\n    typeof value === 'number' ||\n    typeof value === 'boolean' ||\n    typeof value === 'undefined'\n  ) {\n    return value;\n  }\n\n  var type = Object.prototype.toString.call(value);\n\n  // Node.js REPL notation\n  if (type === '[object Object]') return '[Object]';\n  if (type === '[object Array]') return '[Array]';\n  if (type === '[object Function]')\n    return value.name ? '[Function: ' + value.name + ']' : '[Function]';\n\n  return value;\n}\n\nfunction serializeObject(value, depth) {\n  if (depth === 0) return serializeValue(value);\n\n  if (isPlainObject(value)) {\n    return Object.keys(value).reduce(function(acc, key) {\n      acc[key] = serializeObject(value[key], depth - 1);\n      return acc;\n    }, {});\n  } else if (Array.isArray(value)) {\n    return value.map(function(val) {\n      return serializeObject(val, depth - 1);\n    });\n  }\n\n  return serializeValue(value);\n}\n\nfunction serializeException(ex, depth, maxSize) {\n  if (!isPlainObject(ex)) return ex;\n\n  depth = typeof depth !== 'number' ? MAX_SERIALIZE_EXCEPTION_DEPTH : depth;\n  maxSize = typeof depth !== 'number' ? MAX_SERIALIZE_EXCEPTION_SIZE : maxSize;\n\n  var serialized = serializeObject(ex, depth);\n\n  if (jsonSize(stringify(serialized)) > maxSize) {\n    return serializeException(ex, depth - 1);\n  }\n\n  return serialized;\n}\n\nfunction serializeKeysForMessage(keys, maxLength) {\n  if (typeof keys === 'number' || typeof keys === 'string') return keys.toString();\n  if (!Array.isArray(keys)) return '';\n\n  keys = keys.filter(function(key) {\n    return typeof key === 'string';\n  });\n  if (keys.length === 0) return '[object has no keys]';\n\n  maxLength = typeof maxLength !== 'number' ? MAX_SERIALIZE_KEYS_LENGTH : maxLength;\n  if (keys[0].length >= maxLength) return keys[0];\n\n  for (var usedKeys = keys.length; usedKeys > 0; usedKeys--) {\n    var serialized = keys.slice(0, usedKeys).join(', ');\n    if (serialized.length > maxLength) continue;\n    if (usedKeys === keys.length) return serialized;\n    return serialized + '\\u2026';\n  }\n\n  return '';\n}\n\nfunction sanitize(input, sanitizeKeys) {\n  if (!isArray(sanitizeKeys) || (isArray(sanitizeKeys) && sanitizeKeys.length === 0))\n    return input;\n\n  var sanitizeRegExp = joinRegExp(sanitizeKeys);\n  var sanitizeMask = '********';\n  var safeInput;\n\n  try {\n    safeInput = JSON.parse(stringify(input));\n  } catch (o_O) {\n    return input;\n  }\n\n  function sanitizeWorker(workerInput) {\n    if (isArray(workerInput)) {\n      return workerInput.map(function(val) {\n        return sanitizeWorker(val);\n      });\n    }\n\n    if (isPlainObject(workerInput)) {\n      return Object.keys(workerInput).reduce(function(acc, k) {\n        if (sanitizeRegExp.test(k)) {\n          acc[k] = sanitizeMask;\n        } else {\n          acc[k] = sanitizeWorker(workerInput[k]);\n        }\n        return acc;\n      }, {});\n    }\n\n    return workerInput;\n  }\n\n  return sanitizeWorker(safeInput);\n}\n\nmodule.exports = {\n  isObject: isObject,\n  isError: isError,\n  isErrorEvent: isErrorEvent,\n  isDOMError: isDOMError,\n  isDOMException: isDOMException,\n  isUndefined: isUndefined,\n  isFunction: isFunction,\n  isPlainObject: isPlainObject,\n  isString: isString,\n  isArray: isArray,\n  isEmptyObject: isEmptyObject,\n  supportsErrorEvent: supportsErrorEvent,\n  supportsDOMError: supportsDOMError,\n  supportsDOMException: supportsDOMException,\n  supportsFetch: supportsFetch,\n  supportsReferrerPolicy: supportsReferrerPolicy,\n  supportsPromiseRejectionEvent: supportsPromiseRejectionEvent,\n  wrappedCallback: wrappedCallback,\n  each: each,\n  objectMerge: objectMerge,\n  truncate: truncate,\n  objectFrozen: objectFrozen,\n  hasKey: hasKey,\n  joinRegExp: joinRegExp,\n  urlencode: urlencode,\n  uuid4: uuid4,\n  htmlTreeAsString: htmlTreeAsString,\n  htmlElementAsString: htmlElementAsString,\n  isSameException: isSameException,\n  isSameStacktrace: isSameStacktrace,\n  parseUrl: parseUrl,\n  fill: fill,\n  safeJoin: safeJoin,\n  serializeException: serializeException,\n  serializeKeysForMessage: serializeKeysForMessage,\n  sanitize: sanitize\n};\n"]},"metadata":{},"sourceType":"script"}